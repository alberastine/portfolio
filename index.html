<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Fetch API Example</title>
</head>
<body>
    <div><h1>example</h1></div>
    <div id="data-container"></div>

    <script>
        async function fetchData() {
            try {
                // Creating a script element
                const script = document.createElement('script');
                // URL with JSONP callback parameter
                const url = 'https://webservice-wkoq.onrender.com/?callback=handleData';
                // Setting the script's src attribute to the API URL
                script.src = url;
                // Appending the script element to the document's body
                document.body.appendChild(script);
            } catch (error) {
                console.error('Error fetching data:', error);
            }
        }

        // Callback function to handle the data
        function handleData(response) {
            try {
                console.log('Received response:', response); // Debugging statement
                const data = response.data; // Assuming the data is nested under 'data' key
                const dataContainer = document.getElementById('data-container');
                data.forEach(item => {
                    const itemElement = document.createElement('div');
                    itemElement.textContent = `Name: ${item.name}, Age: ${item.age}`;
                    dataContainer.appendChild(itemElement);
                });
            } catch (error) {
                console.error('Error handling data:', error);
            }
        }

        // Fetch data when the page loads
        fetchData();
    </script>
</body>
</html>
